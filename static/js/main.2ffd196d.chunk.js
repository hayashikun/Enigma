(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(t,i,e){},15:function(t,i,e){},16:function(t,i,e){"use strict";e.r(i);var r=e(0),n=e.n(r),a=e(7),s=e.n(a),o=(e(14),e(15),e(1)),h=e(2),u=e(4),c=e(3),l=e(5),p=function(t){function i(){var t,e;Object(o.a)(this,i);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=Object(u.a)(this,(t=Object(c.a)(i)).call.apply(t,[this].concat(n)))).state={rotorPosition:0},e.canvases=[],e.radius=Math.min(e.props.width,e.props.height)/2.4,e.center=[e.props.width/2,e.props.height/2],e.pinRadius=e.radius/16,e}return Object(l.a)(i,t),Object(h.a)(i,[{key:"rotate",value:function(t){var i=this;this.setState({rotorPosition:(this.state.rotorPosition+t+this.props.numberOfChars)%this.props.numberOfChars},function(){i.drawRotor(),i.props.onRotorUpdate()})}},{key:"componentDidMount",value:function(){this.drawRotor(!1)}},{key:"drawRotor",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=this.canvases.map(function(t){return t.getContext("2d")});t&&i[1].clearRect(0,0,this.props.width,this.props.height),t||(i[0].textAlign="center",i[0].textBaseline="middle",i[0].beginPath(),i[0].fillStyle="lightgray",i[0].arc(this.center[0],this.center[1],this.radius,0,2*Math.PI),i[0].fill(),i[0].strokeStyle="gray",i[0].fillStyle="black",i[0].font="normal "+Math.floor(this.radius/3)+"pt sans-serif",i[0].fillText(this.props.name,this.center[0],this.center[1])),i[1].textAlign="center",i[1].textBaseline="middle";for(var e=0;e<this.props.numberOfChars;++e){var r=Math.PI-2*(e-this.state.rotorPosition)*Math.PI/this.props.numberOfChars,n=[this.center[0]+(this.radius+.8*this.pinRadius)*Math.sin(r),this.center[1]+(this.radius+.8*this.pinRadius)*Math.cos(r)],a=[this.center[0]+(this.radius-1.5*this.pinRadius)*Math.sin(r),this.center[1]+(this.radius-1.5*this.pinRadius)*Math.cos(r)],s=[this.center[0]+(this.radius-3.6*this.pinRadius)*Math.sin(r),this.center[1]+(this.radius-3.6*this.pinRadius)*Math.cos(r)],o=[this.center[0]+(this.radius-5.4*this.pinRadius)*Math.sin(r),this.center[1]+(this.radius-5.4*this.pinRadius)*Math.cos(r)];t||(i[0].beginPath(),i[0].arc(a[0],a[1],this.pinRadius,0,2*Math.PI),i[0].stroke(),i[0].beginPath(),i[0].arc(o[0],o[1],this.pinRadius,0,2*Math.PI),i[0].stroke(),i[0].beginPath(),i[0].font="normal "+Math.floor(this.pinRadius)+"pt sans-serif",i[0].fillText(this.props.chars[e],n[0],n[1])),i[1].textAlign="center",i[1].textBaseline="middle",i[1].font="normal "+Math.floor(this.pinRadius)+"pt sans-serif",i[1].fillStyle="black",i[1].beginPath(),i[1].fillText(this.props.chars[e],a[0],a[1]),i[1].beginPath(),i[1].fillText(this.props.chars[e],o[0],o[1]),i[1].font="normal "+Math.floor(.6*this.pinRadius)+"pt sans-serif",i[1].save(),i[1].beginPath(),i[1].translate(s[0],s[1]),i[1].rotate(Math.PI-r);var h="\u2193"+this.props.rotorConfiguration[e]+" "+this.props.chars[this.props.rotorConfiguration.indexOf(this.props.chars[e])]+"\u2191";i[1].fillText(h,0,0),i[1].restore()}}},{key:"drawHighlight",value:function(t,i,e,r){var n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=this.canvases[2].getContext("2d");a.clearRect(0,0,this.props.width,this.props.height);var s=Math.PI-2*t*Math.PI/this.props.numberOfChars,o=[this.center[0]+(this.radius-1.5*this.pinRadius)*Math.sin(s),this.center[1]+(this.radius-1.5*this.pinRadius)*Math.cos(s)],h=Math.PI-2*i*Math.PI/this.props.numberOfChars,u=[this.center[0]+(this.radius-5.4*this.pinRadius)*Math.sin(h),this.center[1]+(this.radius-5.4*this.pinRadius)*Math.cos(h)],c=Math.PI-2*e*Math.PI/this.props.numberOfChars,l=[this.center[0]+(this.radius-1.5*this.pinRadius)*Math.sin(c),this.center[1]+(this.radius-1.5*this.pinRadius)*Math.cos(c)],p=Math.PI-2*r*Math.PI/this.props.numberOfChars,f=[this.center[0]+(this.radius-5.4*this.pinRadius)*Math.sin(p),this.center[1]+(this.radius-5.4*this.pinRadius)*Math.cos(p)];if(a.fillStyle="rgba(255, 0, 0, 0.5)",a.beginPath(),a.arc(o[0],o[1],this.pinRadius,0,2*Math.PI),a.fill(),a.beginPath(),a.arc(u[0],u[1],this.pinRadius,0,2*Math.PI),a.fill(),a.fillStyle="rgba(0, 255, 0, 0.5)",a.beginPath(),a.arc(l[0],l[1],this.pinRadius,0,2*Math.PI),a.fill(),a.beginPath(),a.arc(f[0],f[1],this.pinRadius,0,2*Math.PI),a.fill(),n){a.lineWidth=3;var d=[this.center[0]+(this.radius+.8*this.pinRadius)*Math.sin(s),this.center[1]+(this.radius+.8*this.pinRadius)*Math.cos(s)];a.strokeStyle="rgba(255, 0, 0, 1)",a.beginPath(),a.arc(d[0],d[1],this.pinRadius,0,2*Math.PI),a.stroke();var g=[this.center[0]+(this.radius+.8*this.pinRadius)*Math.sin(c),this.center[1]+(this.radius+.8*this.pinRadius)*Math.cos(c)];a.strokeStyle="rgba(0, 255, 0, 1)",a.beginPath(),a.arc(g[0],g[1],this.pinRadius,0,2*Math.PI),a.stroke()}}},{key:"render",value:function(){var t=this;return n.a.createElement("div",{className:"rotor"},n.a.createElement("div",{className:"rotor-position"},this.state.rotorPosition),n.a.createElement("button",{className:"rotor-rotate-button",onClick:function(){return t.rotate(1)}},"+1"),n.a.createElement("button",{className:"rotor-rotate-button",onClick:function(){return t.rotate(-1)}},"-1"),n.a.createElement("div",{style:{position:"relative",width:this.props.width,height:this.props.height}},n.a.createElement("canvas",{ref:function(i){return t.canvases[0]=i},width:this.props.width,height:this.props.height,style:{position:"absolute",top:0,left:0,zIndex:0}}),n.a.createElement("canvas",{ref:function(i){return t.canvases[1]=i},width:this.props.width,height:this.props.height,style:{position:"absolute",top:0,left:0,zIndex:2}}),n.a.createElement("canvas",{ref:function(i){return t.canvases[2]=i},width:this.props.width,height:this.props.height,style:{position:"absolute",top:0,left:0,zIndex:1}})))}}]),i}(n.a.Component),f=function(t){function i(){var t,e;Object(o.a)(this,i);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=Object(u.a)(this,(t=Object(c.a)(i)).call.apply(t,[this].concat(n)))).canvases=[],e.radius=Math.min(e.props.width,e.props.height)/2,e.center=[e.props.width/2,e.props.height/2],e.pinRadius=e.radius/12,e}return Object(l.a)(i,t),Object(h.a)(i,[{key:"componentDidMount",value:function(){this.drawReflector()}},{key:"drawReflector",value:function(){var t=this.canvases.map(function(t){return t.getContext("2d")});t[0].textAlign="center",t[0].textBaseline="middle",t[0].beginPath(),t[0].fillStyle="lightgray",t[0].arc(this.center[0],this.center[1],this.radius,0,2*Math.PI),t[0].fill(),t[0].font="normal "+Math.floor(this.pinRadius)+"pt sans-serif",t[0].fillStyle="black";for(var i=0;i<this.props.numberOfChars;++i){var e=Math.PI-2*i*Math.PI/this.props.numberOfChars,r=Math.PI-2*this.props.chars.indexOf(this.props.reflectorConfiguration[i])*Math.PI/this.props.numberOfChars,n=[this.center[0]+(this.radius-1.2*this.pinRadius)*Math.sin(e),this.center[1]+(this.radius-1.2*this.pinRadius)*Math.cos(e)],a=[this.center[0]+(this.radius-2.2*this.pinRadius)*Math.sin(e),this.center[1]+(this.radius-2.2*this.pinRadius)*Math.cos(e)],s=[this.center[0]+(this.radius-2.2*this.pinRadius)*Math.sin(r),this.center[1]+(this.radius-2.2*this.pinRadius)*Math.cos(r)];t[0].beginPath(),t[0].arc(n[0],n[1],this.pinRadius,0,2*Math.PI),t[0].stroke(),t[0].beginPath(),t[0].moveTo(a[0],a[1]),t[0].lineTo(s[0],s[1]),t[0].stroke(),t[0].beginPath(),t[0].fillText(this.props.chars[i],n[0],n[1])}}},{key:"drawHighlight",value:function(t,i){var e=this.canvases[1].getContext("2d");e.clearRect(0,0,this.props.width,this.props.height);var r=Math.PI-2*t*Math.PI/this.props.numberOfChars,n=[this.center[0]+(this.radius-1.2*this.pinRadius)*Math.sin(r),this.center[1]+(this.radius-1.2*this.pinRadius)*Math.cos(r)],a=Math.PI-2*i*Math.PI/this.props.numberOfChars,s=[this.center[0]+(this.radius-1.2*this.pinRadius)*Math.sin(a),this.center[1]+(this.radius-1.2*this.pinRadius)*Math.cos(a)];e.fillStyle="rgba(255, 0, 0, 0.5)",e.beginPath(),e.arc(n[0],n[1],this.pinRadius,0,2*Math.PI),e.fill(),e.fillStyle="rgba(0, 255, 0, 0.5)",e.beginPath(),e.arc(s[0],s[1],this.pinRadius,0,2*Math.PI),e.fill()}},{key:"render",value:function(){var t=this;return n.a.createElement("div",{className:"Reflector"},n.a.createElement("div",{style:{position:"relative",width:this.props.width,height:this.props.height,margin:"20px auto"}},n.a.createElement("canvas",{ref:function(i){return t.canvases[0]=i},width:this.props.width,height:this.props.height,style:{position:"absolute",top:0,left:0,zIndex:0}}),n.a.createElement("canvas",{ref:function(i){return t.canvases[1]=i},width:this.props.width,height:this.props.height,style:{position:"absolute",top:0,left:0,zIndex:1}})))}}]),i}(n.a.Component),d=function(t){function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[g,m,b],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v;return Object(o.a)(this,i),Object(u.a)(this,Object(c.a)(i).call(this,t,e,r,i.alphabet.length))}return Object(l.a)(i,t),Object(h.a)(i,[{key:"encryptAlphabetString",value:function(t){var e=Array.from({length:t.length},function(i,e){return t.charAt(e).toUpperCase()}).filter(function(t){return i.alphabet.indexOf(t)>=0}).map(function(t){return i.alphabet.indexOf(t)});return(e=this.encryptChars(e)).map(function(t){return i.alphabet.charAt(t)}).join("")}}]),i}(function(){function t(i,e,r,n){if(Object(o.a)(this,t),this.rotorPositions=void 0,this.rotorConfiguration=void 0,this.currentPosition=0,this.reflectorConfiguration=void 0,this.numberOfChars=void 0,r.length!==n&&n%2!==0)throw Error();this.rotorPositions=i,this.rotorConfiguration=e,this.reflectorConfiguration=r,this.numberOfChars=n}return Object(h.a)(t,[{key:"resetPosition",value:function(t){if(t){if(this.rotorPositions.length!==t.length)throw Error();this.rotorPositions=t}this.currentPosition=0}},{key:"encryptChar",value:function(t){var i=this,e=function(t){return(t+d.alphabet.length)%d.alphabet.length};return this.rotorPositions.forEach(function(r,n){var a=r+Math.floor(i.currentPosition/Math.max(i.numberOfChars*n,1));t=e(i.rotorConfiguration[n][e(t+a)]-a)}),t=this.reflectorConfiguration[t],this.rotorPositions.reverse().forEach(function(r,n){var a=i.rotorPositions.length-n-1,s=r+Math.floor(i.currentPosition/Math.max(i.numberOfChars*a,1));t=e(i.rotorConfiguration[a].indexOf(e(t+s))-s)}),this.currentPosition++,t}},{key:"encryptChars",value:function(t){var i=this;return t.map(function(t){return i.encryptChar(t)})}}]),t}());d.alphabet="ABCDEFGHIJKLMNOPQRSTUVWXYZ";Array.from({length:d.alphabet.length/2},function(t,i){return i}).map(function(t){return[t,d.alphabet.length-1-t]}),Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZ").map(function(t){return d.alphabet.indexOf(t)});var g=Array.from("EKMFLGDQVZNTOWYHXUSPAIBRCJ").map(function(t){return d.alphabet.indexOf(t)}),m=Array.from("AJDKSIRUXBLHWTMCQGZNPYFVOE").map(function(t){return d.alphabet.indexOf(t)}),b=Array.from("BDFHJLCPRTXVZNYEIWGAKMUSQO").map(function(t){return d.alphabet.indexOf(t)}),v=(Array.from("ESOVPZJAYQUIRHXLNFTGKDCMWB").map(function(t){return d.alphabet.indexOf(t)}),Array.from("VZBRGITYUPSDNHLXAWMJQOFECK").map(function(t){return d.alphabet.indexOf(t)}),Array.from("ZYXWVUTSRQPONMLKJIHGFEDCBA").map(function(t){return d.alphabet.indexOf(t)}),Array.from("EJMZALYXVBWFCRQUONTSPIKHGD").map(function(t){return d.alphabet.indexOf(t)})),C=(Array.from("YRUHQSLDPXNGOKMIEBFZCWVJAT").map(function(t){return d.alphabet.indexOf(t)}),Array.from("FVPJIAOYEDRZXWGCTKUQSBNMHL").map(function(t){return d.alphabet.indexOf(t)}),function(t){function i(){var t,e;Object(o.a)(this,i);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=Object(u.a)(this,(t=Object(c.a)(i)).call.apply(t,[this].concat(n)))).state={inputChar:null,outputChar:null},e.size=400,e.rotors=[],e.inputButtons=[],e.reflector=null,e.chars=Array.from(d.alphabet),e.rotorConfigurations=[g,m,b],e.reflectorConfiguration=v,e.onRotorUpdate=function(){e.state.inputChar&&e.inputButtonSelected(e.state.inputChar)},e}return Object(l.a)(i,t),Object(h.a)(i,[{key:"inputButtonSelected",value:function(t){var i=this,e=function(t){return(t+i.chars.length)%i.chars.length};this.setState({inputChar:t});var r=this.chars.indexOf(t),n=e(this.rotorConfigurations[0][e(r+this.rotors[0].state.rotorPosition)]),a=e(n-this.rotors[0].state.rotorPosition+this.chars.length),s=a,o=e(this.rotorConfigurations[1][s+this.rotors[1].state.rotorPosition]),h=e(o-this.rotors[1].state.rotorPosition+this.chars.length),u=h,c=e(this.rotorConfigurations[2][u+this.rotors[2].state.rotorPosition]),l=e(c-this.rotors[2].state.rotorPosition+this.chars.length),p=this.reflectorConfiguration[l],f=e(p+this.rotors[2].state.rotorPosition),d=e(this.rotorConfigurations[2].indexOf(f)-this.rotors[2].state.rotorPosition),g=e(d),m=e(g+this.rotors[1].state.rotorPosition),b=e(this.rotorConfigurations[1].indexOf(m)-this.rotors[1].state.rotorPosition),v=e(b+this.chars.length),C=e(v+this.rotors[0].state.rotorPosition),P=e(this.rotorConfigurations[0].indexOf(C)-this.rotors[0].state.rotorPosition);this.rotors[0].drawHighlight(r,a,P,v,!0),this.rotors[1].drawHighlight(s,h,b,g),this.rotors[2].drawHighlight(u,l,d,p),this.reflector.drawHighlight(l,p),this.inputButtons.forEach(function(t){return t.className=t.classList[0]}),this.inputButtons[r].classList.add("alphabet-input-button-selected"),this.inputButtons[P].classList.add("alphabet-output-button-selected")}},{key:"render",value:function(){var t=this;return n.a.createElement("div",{className:"Rotors"},n.a.createElement("h2",null,"Rotors"),n.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},n.a.createElement(p,{numberOfChars:d.alphabet.length,chars:this.chars,width:this.size,height:this.size,rotorConfiguration:this.rotorConfigurations[0].map(function(i){return t.chars[i]}),onRotorUpdate:this.onRotorUpdate,name:"R1",ref:function(i){return t.rotors[0]=i}}),n.a.createElement(p,{numberOfChars:d.alphabet.length,chars:this.chars,width:this.size,height:this.size,rotorConfiguration:this.rotorConfigurations[1].map(function(i){return t.chars[i]}),onRotorUpdate:this.onRotorUpdate,name:"R2",ref:function(i){return t.rotors[1]=i}}),n.a.createElement(p,{numberOfChars:d.alphabet.length,chars:this.chars,width:this.size,height:this.size,rotorConfiguration:this.rotorConfigurations[2].map(function(i){return t.chars[i]}),onRotorUpdate:this.onRotorUpdate,name:"R3",ref:function(i){return t.rotors[2]=i}}),n.a.createElement(f,{numberOfChars:d.alphabet.length,chars:this.chars,reflectorConfiguration:this.reflectorConfiguration.map(function(i){return t.chars[i]}),width:.8*this.size,height:.8*this.size,ref:function(i){return t.reflector=i}})),n.a.createElement("div",{className:"alphabet-input-button-wrapper"},this.chars.map(function(i,e){return n.a.createElement("button",{className:"alphabet-input-button",key:"alphabet-input-button-"+i,onClick:function(){return t.inputButtonSelected(i)},ref:function(i){return t.inputButtons[e]=i}},i)})))}}]),i}(n.a.Component)),P=function(t){function i(){var t,e;Object(o.a)(this,i);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=Object(u.a)(this,(t=Object(c.a)(i)).call.apply(t,[this].concat(n)))).state={plain:"",encoded:"",encoderConfiguration:["A","A","A"]},e.enigma=new d([0,0,0]),e.chars=Array.from(d.alphabet),e}return Object(l.a)(i,t),Object(h.a)(i,[{key:"encode",value:function(t){var i=this;t=Array.from({length:t.length},function(i,e){return t.charAt(e).toUpperCase()}).filter(function(t){return i.chars.indexOf(t)>=0}).join(""),this.setState({plain:t}),this.enigma.resetPosition(this.state.encoderConfiguration.map(function(t){return i.chars.indexOf(t)}));var e=this.enigma.encryptAlphabetString(t);this.setState({encoded:e})}},{key:"updateEncoderConfiguration",value:function(t,i){var e=this.state.encoderConfiguration;i.length>=2&&(i=i.charAt(1)),i=i.toUpperCase(),this.chars.indexOf(i)>=0&&(e[t]=i),this.setState({encoderConfiguration:e}),this.encode(this.state.plain)}},{key:"render",value:function(){var t=this;return n.a.createElement("div",{className:"Encoder"},n.a.createElement("h2",null,"Encoder"),n.a.createElement("div",null,n.a.createElement("div",{className:"encoder-configurations"},n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"R1-Configuration"},"R1:"),n.a.createElement("input",{id:"R1-Configuration",value:this.state.encoderConfiguration[0],onChange:function(i){return t.updateEncoderConfiguration(0,i.target.value)}}),n.a.createElement("label",{htmlFor:"R2-Configuration"},"R2:"),n.a.createElement("input",{id:"R2-Configuration",value:this.state.encoderConfiguration[1],onChange:function(i){return t.updateEncoderConfiguration(1,i.target.value)}}),n.a.createElement("label",{htmlFor:"R3-Configuration"},"R3:"),n.a.createElement("input",{id:"R3-Configuration",value:this.state.encoderConfiguration[2],onChange:function(i){return t.updateEncoderConfiguration(2,i.target.value)}}))),n.a.createElement("div",null,n.a.createElement("div",{className:"encoder-input"},n.a.createElement("label",{htmlFor:"PlainInput"},"Plain Text:"),n.a.createElement("input",{id:"PlainInput",value:this.state.plain,onChange:function(i){return t.encode(i.target.value)}})),n.a.createElement("div",{className:"encoder-output"},"Output: ",n.a.createElement("span",{className:"encoder-output-text"},this.state.encoded)))))}}]),i}(n.a.Component),R=function(){return n.a.createElement("div",{className:"App"},n.a.createElement("h1",null,"Enigma"),n.a.createElement(P,null),n.a.createElement("hr",null),n.a.createElement(C,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},8:function(t,i,e){t.exports=e(16)}},[[8,1,2]]]);
//# sourceMappingURL=main.2ffd196d.chunk.js.map